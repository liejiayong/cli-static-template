/**
 * @description:  wap menu style
 * @author: liejiayong(809206619@qq.com)
 * @Date: 2020-06-15 11:27:17
 * @LastEditors: liejiayong(809206619@qq.com)
 * @LastEditTime: 2021-12-11 17:06:29
 * @FilePath: 
 * @warning: 本页所有内容，后端同学不需要修改，谢谢~
 */

@import '../_const.scss';
@import '../_mixin.scss';

// <div class="jy-wrapper" id="topWrapper">
//   <div class="jy-section section-1 jpage" id="p1"></div>
//   <div class="jy-section section-1 jpage" id="p2"></div>
//   <div class="jy-section section-1 jpage" id="p3"></div>
//   <div class="jy-section section-1 jpage" id="p4"></div>
//   <div class="jy-section section-1 jpage" id="p5"></div>
//   <div class="jy-section section-1 jpage" id="p6"></div>
//   <!-- menu -->
//   <div class="jy-menus">
//     <ul class="jy-menus__wrapper">
//       <li class="jy-menus__item active"><a href="#p1" class="jy-menus__item__link">首页</a></li>
//       <li class="jy-menus__item"><a href="#p2" class="jy-menus__item__link">资讯</a></li>
//       <li class="jy-menus__item"><a href="#p3" class="jy-menus__item__link">攻略</a></li>
//       <li class="jy-menus__item"><a href="#p4" class="jy-menus__item__link">福利</a></li>
//       <li class="jy-menus__item"><a href="#p5" class="jy-menus__item__link">社区</a></li>
//       <li class="jy-menus__item"><a href="#p6" class="jy-menus__item__link">客服</a></li>
//     </ul>
//   </div>
// </div>

// js
// $(".jy-menus").on("click", ".jy-menus__item", function () {
//   $(this).addClass(jtool.activeCls).siblings().removeClass(jtool.activeCls);
// });

// $(window).scroll(
//   jtool.debounce(function () {
//     var pagePos = [];
//     $(".jpage").each(function (i, el) {
//       var pos = $(el).position(),
//         height = $(el).height();
//       pagePos.push([pos.top, pos.top + height]);
//     });
//     var top =
//         document.documentElement.scrollTop /* 标准 */ ||
//         window.pageYOffset /* Safari */ ||
//         document.body.scrollTop,
//       winHeight = $(window).height(),
//       mainHeight = $(".jy-wrapper").height() - winHeight;
//     pagePos.forEach(function (pos, i) {
//       if (top >= pos[0] && top < pos[1]) {
//         $(".jy-menus__item").eq(i).addClass(jtool.activeCls).siblings().removeClass(jtool.activeCls);
//       } else {
//         if (top >= mainHeight - 150) {
//           $(".jy-menus__item").eq(i).addClass(jtool.activeCls).siblings().removeClass(jtool.activeCls);
//         }
//       }
//     });
//   }, 200)
// );

$color: #ffdca9;
$color-active: #ee9b1e;
.jy-menus {
  position: relative;
  height: $menus-top;
  z-index: 10;
  overflow: hidden;
}
.jy-menus__wrapper {
  margin: 0 auto;
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 7.5rem;
  @include lh($menus-top);
  border-top: 0.03rem solid #930c16;
  background: linear-gradient(#6d0912, #791016, #972121, #ae2e29, #6d0912);
}
.jy-menus__item {
  $width: (100%/3);
  position: relative;
  -webkit-box-flex: 0;
  flex: 0 0 $width;
  width: $width;
  text-align: center;
  font-size: 0.3rem;
  font-weight: bold;
  color: $color;
  &:not(:first-of-type) {
    &::before {
      content: '';
      position: absolute;
      top: 10%;
      bottom: 10%;
      left: 0;
      // width: 0.03rem;
      transform: translate(-50%, 0);
      border-radius: 0.015rem;
      border: 0.01rem solid #b72629;
      opacity: 0.2;
    }
  }
  &.active {
    color: $color-active;
    background: linear-gradient(#6d0912, #791016, #972121, #ae2e29, #6d0912);
    // border-bottom: 0.04rem solid #cfb474;
  }
}
.jy-menus__item__link {
  position: relative;
  display: block;
  width: 100%;
  height: 100%;
  text-shadow: #ffdca9 0 0 1px;
  // @include text-gradient($color, linear-gradient(bottom, #fff3dc, #ffe9c6, #ffdca9));
}
