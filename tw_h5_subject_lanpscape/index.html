<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui,viewport-fit=cover" />
	<meta name="format-detection" content="telephone=no, email=no" />
	<meta name="format-detection" content="address=no" />
	<meta name="applicable-device" content="mobile" />
	<meta http-equiv="Cache-Control" content="no-transform" />
	<meta http-equiv="Cache-Control" content="no-siteapp" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="renderer" content="webkit" />
	<meta name="HandheldFriendly" content="true" />
	<meta name="MobileOptimized" content="320" />
	<meta name="full-screen" content="yes" />
	<meta name="x5-fullscreen" content="true" />
	<meta name="browsermode" content="application" />
	<meta name="x5-page-mode" content="app" />
	<meta name="msapplication-tap-highlight" content="no" />
	<meta name="author" content="f_liejy,d_,b_" />
	<meta name="copyright" content="tanwan" />
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<title></title>
	<link rel="stylesheet" href="./css/index.css" />
	<script>
		; (function () {
			var docEl = document.documentElement || document.body
			var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'
			var reCalc = function () {
				var clientWidth = docEl.clientWidth, clientHeight = docEl.clientHeight,
					PIX = 750
				clientWidth = clientWidth > clientHeight ? clientHeight : clientWidth
				clientWidth = clientWidth > PIX ? PIX : clientWidth
				var fontSize = 100 * (clientWidth / PIX)
				window.baseFontSize = fontSize
				docEl.style.fontSize = fontSize + 'px'
			}
			reCalc()
			window.addEventListener(resizeEvt, reCalc, false)
			document.addEventListener('DOMContentLoaded', reCalc, false)
		})()
	</script>
</head>

<body ontouchstart>
	<div id="print">
		<div class="bg-home"></div>
		<div class="jy-section">
			<div id="p1">啦啦啦1</div>
			<div id="p2">啦啦啦2</div>
			<div id="p3">啦啦啦3</div>
		</div>
		<div class="jy-section">
			<div id="p1">啦啦啦4</div>
			<div id="p2">啦啦啦5</div>
			<div id="p3">啦啦啦6</div>
		</div>
	</div>
	<div class="model" id="J_landscapeTips">model</div>
	<style>
		.jy-section {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}

		#p1 {
			position: absolute;
			top: 0;
			left: 0;
		}

		#p2 {
			position: absolute;
			top: 50%;
			left: 50%;
		}

		#p3 {
			position: absolute;
			bottom: 0;
			right: 0;
		}

		.model {
			display: none;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 1000;
			background: #ccc;
			color: #fff
		}

		.model.show {
			display: block;
		}
	</style>
	<!-- js -->
	<script type="text/javascript" src="http://image.tanwan.com/jsCommon/jquery-1.11.2.min.js"></script>
	<script>
		$(function () {
			var activeCls = 'active',
				disableCls = 'disable'

			// let width = document.documentElement.clientWidth
			// let height = document.documentElement.clientHeight
			// if (width < height) {
			// 	console.log(width + '哈哈哈 ' + height)
			// 	$print = $('#print')
			// 	$print.width(height)
			// 	$print.height(width)
			// 	$print.css('top', (height - width) / 2)
			// 	$print.css('left', 0 - (height - width) / 2)
			// 	$print.css('transform', 'rotate(90deg)')
			// 	$print.css('transform-origin', '50% 50%')
			// }
			// var evt = 'onorientationchange' in window ? 'orientationchange' : 'resize'
			// console.log(evt, 'evt')
			// window.addEventListener(
			// 	evt,
			// 	function () {
			// 		// window.localtion.reload();
			// 		setTimeout(function () {
			// 			var width = document.documentElement.clientWidth
			// 			var height = document.documentElement.clientHeight

			// 			$print = $('#print')
			// 			$videoIntroduce = $('#videoIntroduce')
			// 			$toVideoBack = $('#toVideoBack')
			// 			$backgroundImg = $('.backgroundImg')
			// 			$print.width(width)
			// 			$print.height(height)
			// 			if (width > height) {
			// 				$print.css('top', '0')
			// 				$print.css('left', 0)
			// 				$print.css('transform', 'none')
			// 				$print.css('transform-origin', '50% 50%')
			// 			} else {
			// 				$print.width(height)
			// 				$print.height(width)
			// 				$print.css('top', (height - width) / 2)
			// 				$print.css('left', 0 - (height - width) / 2)
			// 				$print.css('transform', 'rotate(90deg)')
			// 				$print.css('transform-origin', '50% 50%')
			// 			}
			// 		}, 50)
			// 	},
			// 	false
			// )
		})
	</script>
	<!-- <script src="js/screen.js"></script> -->

	<script type="module">
		import ScreenOrient from './js/screen.js'
		console.log(ScreenOrient)
		const xScreen = new ScreenOrient()
		xScreen.lock({
			// mode: 'landscape', // 强制横屏
			mode: 'portrait',
			$wrapper: document.getElementById('print'),
			zIndex: 302,
		})
		xScreen.inform({
			mode: 'landscape',
			id: 'J_landscapeTips',
		})
		xScreen.onOrientationChange(orientation => {
			console.log('2', orientation, this)
		}, this)
		console.log('window', window, this)
	</script>
</body>

</html>
